{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "4b431065_33d48170",
        "filename": "aaa-encrypt-service/impl/src/main/java/org/opendaylight/aaa/encrypt/impl/AAAEncryptionServiceImpl.java",
        "patchSetId": 9
      },
      "lineNbr": 51,
      "author": {
        "id": 8144
      },
      "writtenOn": "2025-03-04T08:58:53Z",
      "side": 1,
      "message": "doe not need explicit set to null",
      "revId": "c09a09cab01f254c3a7174bcd7b1fb86f40bf8af",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ff37e5e3_9a27290d",
        "filename": "aaa-encrypt-service/impl/src/main/java/org/opendaylight/aaa/encrypt/impl/AAAEncryptionServiceImpl.java",
        "patchSetId": 9
      },
      "lineNbr": 51,
      "author": {
        "id": 8449
      },
      "writtenOn": "2025-03-04T11:02:34Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4b431065_33d48170",
      "revId": "c09a09cab01f254c3a7174bcd7b1fb86f40bf8af",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f458b9d5_f3dd61d5",
        "filename": "aaa-encrypt-service/impl/src/main/java/org/opendaylight/aaa/encrypt/impl/AAAEncryptionServiceImpl.java",
        "patchSetId": 9
      },
      "lineNbr": 130,
      "author": {
        "id": 8144
      },
      "writtenOn": "2025-03-03T15:54:10Z",
      "side": 1,
      "message": "Do we really need to have Cipher as an instance field and parameter of this method?",
      "revId": "c09a09cab01f254c3a7174bcd7b1fb86f40bf8af",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a5a75fb2_7b2b8b67",
        "filename": "aaa-encrypt-service/impl/src/main/java/org/opendaylight/aaa/encrypt/impl/AAAEncryptionServiceImpl.java",
        "patchSetId": 9
      },
      "lineNbr": 130,
      "author": {
        "id": 8449
      },
      "writtenOn": "2025-03-03T16:35:43Z",
      "side": 1,
      "message": "Yes, IMHO it is better than making two separate init method for Encrypt and Decrypt.\n\nhttps://git.opendaylight.org/gerrit/c/aaa/+/114910/9/aaa-encrypt-service/impl/src/main/java/org/opendaylight/aaa/encrypt/impl/AAAEncryptionServiceImpl.java#99\n\nhttps://git.opendaylight.org/gerrit/c/aaa/+/114910/9/aaa-encrypt-service/impl/src/main/java/org/opendaylight/aaa/encrypt/impl/AAAEncryptionServiceImpl.java#117",
      "parentUuid": "f458b9d5_f3dd61d5",
      "revId": "c09a09cab01f254c3a7174bcd7b1fb86f40bf8af",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6c4b2c1a_e9d08f62",
        "filename": "aaa-encrypt-service/impl/src/main/java/org/opendaylight/aaa/encrypt/impl/AAAEncryptionServiceImpl.java",
        "patchSetId": 9
      },
      "lineNbr": 130,
      "author": {
        "id": 8144
      },
      "writtenOn": "2025-03-04T08:58:53Z",
      "side": 1,
      "message": "It seems to be completely not needed as we always have only one cipher on which we just invoke void init() method.",
      "parentUuid": "a5a75fb2_7b2b8b67",
      "revId": "c09a09cab01f254c3a7174bcd7b1fb86f40bf8af",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "bedb5553_abef6365",
        "filename": "aaa-encrypt-service/impl/src/main/java/org/opendaylight/aaa/encrypt/impl/AAAEncryptionServiceImpl.java",
        "patchSetId": 9
      },
      "lineNbr": 130,
      "author": {
        "id": 8449
      },
      "writtenOn": "2025-03-04T10:31:04Z",
      "side": 1,
      "message": "As I mentioned before, we have two Ciphers for Encrypt and Decrypt. If there was only one Cipher, and we would invoke on it the init method for Encrypt and then for Decrypt. It would not work correctly.\n\nI tried this before I added Cipher as parameter here. I remember that test fails with IllegalBlockSizeException. Now when I tried it test passes, but I see the same issue with BenchmarkTest running in multithreaded environments.\n\n\"javax.crypto.IllegalBlockSizeException: Input length must be multiple of 16 when decrypting with padded cipher\"\n\nI have tried to synchronize all methods in the AAAEncryptionServiceImpl, and it does not work. Benchmark tests are available in the patchset 5.",
      "parentUuid": "6c4b2c1a_e9d08f62",
      "revId": "c09a09cab01f254c3a7174bcd7b1fb86f40bf8af",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2eeba528_6c8b3e40",
        "filename": "aaa-encrypt-service/impl/src/main/java/org/opendaylight/aaa/encrypt/impl/AAAEncryptionServiceImpl.java",
        "patchSetId": 9
      },
      "lineNbr": 130,
      "author": {
        "id": 8144
      },
      "writtenOn": "2025-03-04T11:33:28Z",
      "side": 1,
      "message": "We have only one for each operation IMO. It means can we have just:\nprivate void initCipher(final int mode, final Cipher cipher)?",
      "parentUuid": "bedb5553_abef6365",
      "revId": "c09a09cab01f254c3a7174bcd7b1fb86f40bf8af",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "226fdc9e_fefcfb37",
        "filename": "aaa-encrypt-service/impl/src/main/java/org/opendaylight/aaa/encrypt/impl/AAAEncryptionServiceImpl.java",
        "patchSetId": 9
      },
      "lineNbr": 130,
      "author": {
        "id": 8449
      },
      "writtenOn": "2025-03-04T11:48:46Z",
      "side": 1,
      "message": "Do you really want code like this?\n```\n        synchronized (baseEncryptCipher) {\n            if (encryptCipher \u003d\u003d null) {\n                initCipher(Cipher.ENCRYPT_MODE, baseEncryptCipher);\n            }\n            try {\n                return encryptCipher.doFinal(requireNonNull(data));\n            } catch (IllegalBlockSizeException | BadPaddingException e) {\n                // Remove Cipher after exception and re-throw.\n                LOG.warn(\"Failed to encrypt data, resetting encrypt Cipher.\", e);\n                encryptCipher \u003d null;\n                throw e;\n            }\n        }\n```",
      "parentUuid": "2eeba528_6c8b3e40",
      "revId": "c09a09cab01f254c3a7174bcd7b1fb86f40bf8af",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ebdfc220_cca06389",
        "filename": "aaa-encrypt-service/impl/src/main/java/org/opendaylight/aaa/encrypt/impl/AAAEncryptionServiceImpl.java",
        "patchSetId": 9
      },
      "lineNbr": 130,
      "author": {
        "id": 8144
      },
      "writtenOn": "2025-03-04T11:53:52Z",
      "side": 1,
      "message": "yes, and then we can eliminate another one encryp and another one decrypt field?",
      "parentUuid": "226fdc9e_fefcfb37",
      "revId": "c09a09cab01f254c3a7174bcd7b1fb86f40bf8af",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2be4b303_e7ddb3c8",
        "filename": "aaa-encrypt-service/impl/src/main/java/org/opendaylight/aaa/encrypt/impl/AAAEncryptionServiceImpl.java",
        "patchSetId": 9
      },
      "lineNbr": 130,
      "author": {
        "id": 8144
      },
      "writtenOn": "2025-03-04T11:54:55Z",
      "side": 1,
      "message": "and initCipher can be moved to catch block?\n\nIDK at the end its your decision - but IMO we have not necessary fields and parameters like its now.",
      "parentUuid": "ebdfc220_cca06389",
      "revId": "c09a09cab01f254c3a7174bcd7b1fb86f40bf8af",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0b585e97_1fdf64a8",
        "filename": "aaa-encrypt-service/impl/src/main/java/org/opendaylight/aaa/encrypt/impl/AAAEncryptionServiceImpl.java",
        "patchSetId": 9
      },
      "lineNbr": 130,
      "author": {
        "id": 8449
      },
      "writtenOn": "2025-03-04T12:28:07Z",
      "side": 1,
      "message": "initCipher can be moved to catch block? No, reason:\nhttps://git.opendaylight.org/gerrit/c/aaa/+/114910/comment/9e7cf85f_dab573b7",
      "parentUuid": "2be4b303_e7ddb3c8",
      "revId": "c09a09cab01f254c3a7174bcd7b1fb86f40bf8af",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f69eb324_611de561",
        "filename": "aaa-encrypt-service/impl/src/main/java/org/opendaylight/aaa/encrypt/impl/AAAEncryptionServiceImpl.java",
        "patchSetId": 9
      },
      "lineNbr": 130,
      "author": {
        "id": 8144
      },
      "writtenOn": "2025-03-04T12:38:01Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "0b585e97_1fdf64a8",
      "revId": "c09a09cab01f254c3a7174bcd7b1fb86f40bf8af",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81"
    }
  ]
}