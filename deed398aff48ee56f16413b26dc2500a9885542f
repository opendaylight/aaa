{
  "comments": [
    {
      "key": {
        "uuid": "9a245df4_783c3f30",
        "filename": "aaa-shiro/api/src/main/yang/aaa-app-config.yang",
        "patchSetId": 6
      },
      "lineNbr": 53,
      "author": {
        "id": 3635
      },
      "writtenOn": "2017-10-16T17:15:49Z",
      "side": 1,
      "message": "Why are we doing this here?  I think it is better to have this specified in the key/value pairs above so we can enable multiple realms at a time (i.e., have another MDSALRealm like I have proposed in another patch and possibly create CSV of available realms). For example, one may want to fall back on a local user store if mdsal is down (which still seems to happen quite often).",
      "range": {
        "startLine": 43,
        "startChar": 8,
        "endLine": 53,
        "endChar": 9
      },
      "revId": "deed398aff48ee56f16413b26dc2500a9885542f",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a245df4_7b48b92d",
        "filename": "aaa-shiro/api/src/main/yang/aaa-app-config.yang",
        "patchSetId": 6
      },
      "lineNbr": 53,
      "author": {
        "id": 4013
      },
      "writtenOn": "2017-10-16T18:52:45Z",
      "side": 1,
      "message": "the user can switch at anytime between the data-stores. just changes the init config at https://git.opendaylight.org/gerrit/#/c/63863/6/aaa-shiro/impl/src/main/resources/initial/aaa-datastore-config.xml \nis that answer your comment? what u mean by \"I think it is better to have this specified in the key/value pairs above\" ?",
      "parentUuid": "9a245df4_783c3f30",
      "range": {
        "startLine": 43,
        "startChar": 8,
        "endLine": 53,
        "endChar": 9
      },
      "revId": "deed398aff48ee56f16413b26dc2500a9885542f",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a245df4_1bd41d1f",
        "filename": "aaa-shiro/api/src/main/yang/aaa-app-config.yang",
        "patchSetId": 6
      },
      "lineNbr": 53,
      "author": {
        "id": 3635
      },
      "writtenOn": "2017-10-16T19:04:14Z",
      "side": 1,
      "message": "so what you are essentially doing is providing an alternative \"Realm\" (shiro api), but this forces the decision to be either/or.  Instead, it should be stackable like the rest of the Realm implementations and done through specifying it in clustered-app-config.  For example, right now you can have the TokenAuthRealm and the ODLJndiLdapRealm concurrently.  They will be tried in order by default.  What we really want is an MDSALRealm which can coexist with the TokenAuthRealm, similar to the aforementioned case.",
      "parentUuid": "9a245df4_7b48b92d",
      "range": {
        "startLine": 43,
        "startChar": 8,
        "endLine": 53,
        "endChar": 9
      },
      "revId": "deed398aff48ee56f16413b26dc2500a9885542f",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a245df4_1b2c1d02",
        "filename": "aaa-shiro/api/src/main/yang/aaa-app-config.yang",
        "patchSetId": 6
      },
      "lineNbr": 53,
      "author": {
        "id": 4013
      },
      "writtenOn": "2017-10-16T19:34:24Z",
      "side": 1,
      "message": "hmmm okay, but my thoughts was about having another token store implementation based on mdsal so the tokens will be shared across the odl cluster node. The TokenAuthRealem is blindly read from TokenStore.",
      "parentUuid": "9a245df4_1bd41d1f",
      "range": {
        "startLine": 43,
        "startChar": 8,
        "endLine": 53,
        "endChar": 9
      },
      "revId": "deed398aff48ee56f16413b26dc2500a9885542f",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a245df4_67ec8090",
        "filename": "aaa-shiro/api/src/main/yang/aaa-app-config.yang",
        "patchSetId": 6
      },
      "lineNbr": 53,
      "author": {
        "id": 3635
      },
      "writtenOn": "2017-10-24T17:15:50Z",
      "side": 1,
      "message": "\"datastore-config\" should probably be \"token-datastore-config\" then?",
      "parentUuid": "9a245df4_1b2c1d02",
      "range": {
        "startLine": 43,
        "startChar": 8,
        "endLine": 53,
        "endChar": 9
      },
      "revId": "deed398aff48ee56f16413b26dc2500a9885542f",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a245df4_07302400",
        "filename": "aaa-shiro/api/src/main/yang/aaa-app-config.yang",
        "patchSetId": 6
      },
      "lineNbr": 53,
      "author": {
        "id": 4013
      },
      "writtenOn": "2017-10-24T18:07:59Z",
      "side": 1,
      "message": "I think we confusing each other :) . In the AAAShiroProvider.java \"L82\" we check for the store type h2/mdsal based on that AAAShiroProvider will create the backend store for both IDMStore and TokenStore after that the ServiceLocator will be initialized \"L97\". The realm then just use the ServiceLocator to call the IDMStore and TokenStore. It is not just token-store it is both idmstore and tokenstore. hope this make it clear",
      "parentUuid": "9a245df4_67ec8090",
      "range": {
        "startLine": 43,
        "startChar": 8,
        "endLine": 53,
        "endChar": 9
      },
      "revId": "deed398aff48ee56f16413b26dc2500a9885542f",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    }
  ]
}